<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATOM Challenges - Cr√©er un d√©fi</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>‚öõÔ∏è ATOM Challenges</h1>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">Tableau de bord</a>
                <a href="challenges.html" class="nav-link">D√©fis</a>
                <a href="create-challenge.html" class="nav-link active">Cr√©er un d√©fi</a>
                <a href="teams.html" class="nav-link">√âquipes</a>
                <a href="friends.html" class="nav-link">Amis</a>
                <a href="leaderboard.html" class="nav-link">Classement</a>
            </div>
            <div class="nav-user">
                <span class="user-points" id="userPoints">üí∞ 0 pts</span>
                <span class="user-name" id="userName">Utilisateur</span>
                <button class="btn btn-sm btn-danger" onclick="logout()">D√©connexion</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h2>Cr√©er un nouveau d√©fi</h2>
        </div>

        <div class="create-form-container">
            <form id="createChallengeForm" class="create-form">
                <div class="form-section">
                    <h3>Informations g√©n√©rales</h3>
                    <div class="form-group">
                        <label for="challengeName">Nom du d√©fi *</label>
                        <input type="text" id="challengeName" required placeholder="Ex: Speedrun Mario 64">
                    </div>
                    <div class="form-group">
                        <label for="gameName">Nom du jeu *</label>
                        <input type="text" id="gameName" required placeholder="Ex: Super Mario 64">
                    </div>
                    <div class="form-group">
                        <label for="rulesChallenge">R√®gles / Mods</label>
                        <textarea id="rulesChallenge" rows="4" placeholder="D√©crivez les r√®gles sp√©cifiques, mods autoris√©s, etc."></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Format du d√©fi</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teamFormat">Format des √©quipes *</label>
                            <select id="teamFormat" required>
                                <option value="">S√©lectionner...</option>
                                <option value="solo">Solo</option>
                                <option value="team">√âquipes</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="formatChallenge">Type de d√©fi *</label>
                            <select id="formatChallenge" required>
                                <option value="">S√©lectionner...</option>
                                <option value="tournoi">Tournoi</option>
                                <option value="course">Course</option>
                                <option value="marathon">Marathon</option>
                                <option value="bingo">Bingo</option>
                            </select>
                        </div>
                    </div>
                    <div class="format-description" id="formatDescription"></div>
                </div>

                <!-- Configuration √©quipes -->
                <div class="form-section hidden" id="teamConfig">
                    <h3>üë• Configuration des √©quipes</h3>

                    <div class="form-group">
                        <label for="minPlayers">Joueurs minimum par √©quipe *</label>
                        <input type="number" id="minPlayers" min="1" max="10" value="2" required>
                    </div>

                    <div class="form-group">
                        <label for="maxPlayers">Joueurs maximum par √©quipe *</label>
                        <input type="number" id="maxPlayers" min="1" max="10" value="5" required>
                        <p class="help-text">Le maximum doit √™tre sup√©rieur ou √©gal au minimum</p>
                    </div>
                </div>

                <!-- Configuration Course -->
                <div class="form-section hidden" id="courseConfig">
                    <h3>üèÅ Configuration Course</h3>
                    <div class="form-group">
                        <label>√âtapes de la course</label>
                        <div id="stepsList"></div>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="addStep()">+ Ajouter une √©tape</button>
                    </div>
                </div>

                <!-- Configuration Marathon -->
                <div class="form-section hidden" id="marathonConfig">
                    <h3>üéØ Configuration Marathon</h3>
                    <div class="form-group">
                        <label>Objectifs du marathon</label>
                        <div id="objectivesList"></div>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="addObjective()">+ Ajouter un objectif</button>
                    </div>
                    <div class="form-group">
                        <label>Objectifs √† √©viter</label>
                        <div id="negativeObjectivesList"></div>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="addNegativeObjective()">+ Ajouter un objectif √† √©viter</button>
                    </div>

                </div>

                <!-- Configuration Bingo -->
                <div class="form-section hidden" id="bingoConfig">
                    <h3>üé≤ Configuration Bingo</h3>
                    <div class="form-group">
                        <label for="bingoSize">Taille de la grille</label>
                        <select id="bingoSize">
                            <option value="3" selected>3 x 3 (9 cases)</option>
                            <option value="4">4 x 4 (16 cases)</option>
                            <option value="5">5 x 5 (25 cases)</option>
                            <option value="6">6 x 6 (36 cases)</option>
                        </select>
                    </div>

                    <button type="button" class="btn btn-secondary" onclick="generateBingoGrid()">
                        G√©n√©rer la grille
                    </button>

                    <div id="bingoGrid"></div>
                </div>

                <div class="form-section">
                    <h3>Mise de points</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="minPoints">Mise minimum *</label>
                            <input type="number" id="minPoints" min="0" value="0" required>
                        </div>
                        <div class="form-group">
                            <label for="maxPoints">Mise maximum *</label>
                            <input type="number" id="maxPoints" min="0" value="100" required>
                        </div>
                    </div>
                    <p class="help-text">Les participants devront miser entre ces deux valeurs pour rejoindre le d√©fi</p>
                </div>

                <div class="form-section">
                    <h3>Acc√®s au d√©fi</h3>
                    <div class="form-group">
                        <label for="visibility">Acc√®s *</label>
                        <select id="visibility" required>
                            <option value="public">Tout le monde</option>
                            <option value="password">Prot√©g√© par mot de passe</option>
                        </select>
                    </div>
                    <div class="form-group hidden" id="passwordGroup">
                        <label for="challengePassword">Mot de passe du d√©fi</label>
                        <input type="text" id="challengePassword" placeholder="Mot de passe pour rejoindre">
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='challenges.html'">Annuler</button>
                    <button type="submit" class="btn btn-primary">Cr√©er le d√©fi</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/create-challenge.js"></script>
</body>
</html>
